# August 19, 2020

Back to Docker (see [[August 18, 2020]]), and getting it installed on a Windows image is actually very easy:

```dockerfile
FROM mcr.microsoft.com/windows/servercore:2004

RUN mkdir c:\tmp
RUN curl.exe -o c:\tmp\r-install.exe https://cran.r-project.org/bin/windows/base/old/3.6.3/R-3.6.3-win.exe
RUN c:\tmp\r-install.exe /VERYSILENT /DIR="C:\R\"

RUN powershell remove-item c:\tmp -recurse
```

This uses the latest semi-annual channel of server core (2004 - see https://hub.docker.com/_/microsoft-windows-servercore), downloads and installs R, and then cleans up the install.  It also hard-codes our R version to 3.6.3 (and we're not using the MRO distribution here).

How we'd leverage this image would be:
- Connect with an interactive terminal (not helpful in prod)
- Mount a volume of scripts and execute them (More useful when iterating on the scripts to dodge the container build steps?)
- Pull the scripts in to the build container

So our build step needs to pull the scripts in from somewhere.  Whether we prep the images with R packages or delegate the pacakage install to a designated script (e.g. 'dependencies.R') doesn't seem like it'd make much of a difference.
