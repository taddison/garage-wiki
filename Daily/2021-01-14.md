# January 14, 2021

## Going on a firebase diet

```
yarn remove firebase

yarn add firebase-auth-lite firebase-firestore-lite
```

### Auth

Key thing that caught me out was not calling `handleSignInRedirect` - after that was in place it all works.

```javascript
import Auth from "firebase-auth-lite";

const auth = new Auth({
  apiKey: "AIzaSyD9CBg8CS9XHEH5ipIJMOIIWL7wAHecctk",
  redirectUri: window.location.origin
});
auth.handleSignInRedirect()

const setupAuth = (setAuthStateFunc) => {
  setAuthState = setAuthStateFunc;
  auth.listen((user) => {
    updateSignedInUser(user);
  });
};

const signIn = async () => {
  await auth.signInWithProvider(`google.com`);
};
```