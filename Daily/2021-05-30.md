# May 30, 2021

## Migrating a site from Gatsby to Next.js

Starting with the Next docs (https://nextjs.org/docs/migrating/from-gatsby), let's remove all of the marketing/Gatsby bashing.

Update dependencies:

```shell
yarn remove gatsby gatsby-plugin-gatsby-cloud gatsby-plugin-image gatsby-plugin-manifest gatsby-plugin-offline gatsby-plugin-postcss gatsby-plugin-react-helmet gatsby-plugin-sharp gatsby-source-filesystem gatsby-transformer-json gatsby-transformer-sharp

yarn add next
```

Update `package.json` scripts:

```diff
  "scripts": {
-    "build": "gatsby build",
+    "build": "next build",
-    "develop": "gatsby develop",
+    "develop": "next dev",
    "format": "prettier --write \"**/*.{js,jsx,ts,tsx,json,md}\"",
-    "start": "npm run develop",
+    "start": "next start",
-    "serve": "gatsby serve",
-    "clean": "gatsby clean",
    "test": "jest"
  },
```

Update `.gitignore`:

```diff
- # gatsby files
- .cache/
- public
```

And delete those folders.

### Notes
- PostCSS
- Do we need prop-types?
- Do we need babel explicitly any more?