# November 2, 2020

- Some weird behaviour with fonts where they occasionally fail with an error stating `resulted in a network error response: an "opaque" response was used for a request whose type is not no-cors` - that appears to be related to Gatsby's service worker
- To correct this would like to try and include the CSS inline (so it renders with the page) rather than including it in the onload event (that causes the flash of unstyled text)
- Theory here is that the CSS is small enough to be served with the page, and we can then rely on the `swap` behavior to render directly in `Inter Var` if present (or on a fast connection), and failing that it'll perform a layout shift as the font downloads

Looking again at this after a while and decided to...

- Use `Inter` not `Inter Var` (variable fonts don't appear to be widely supported and I'm not doing all that much in the way of design work)
- Use Google fonts (which is now possible because they have the `Inter` speciment) - maximum chance for caching

After that I checked Lighthouse and we're back with that additional call out to Google (penalty of 700ms for the connection!)...so back again to self-hosting, though this time it seems that typeface has been superseded by [fontsource].

Not ideal as we now have this...

```javascript
import "fontsource-inter/100.css";
import "fontsource-inter/200.css";
import "fontsource-inter/300.css";
import "fontsource-inter/400.css";
import "fontsource-inter/500.css";
import "fontsource-inter/600.css";
import "fontsource-inter/700.css";
import "fontsource-inter/800.css";
import "fontsource-inter/900.css";
```

[fontsource]: https://fontsource.github.io/
